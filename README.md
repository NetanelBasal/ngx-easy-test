<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1386.96 299.06"><defs><style>.cls-1{fill:#002d3d;}.cls-2{fill:#29abe2;}.cls-3{fill:#f2f2f2;}.cls-4{fill:#1f96bf;}.cls-5{fill:#f5ffff;}.cls-6{fill:#cff6ff;}.cls-7{fill:#fff;}.cls-8{fill:#333;}.cls-9{fill:#e6e6e6;}.cls-10{fill:#dcdddf;}.cls-11{fill:#d4fffd;}</style></defs><title>SPECTATOR 4</title><path class="cls-1" d="M247.49,166.11l25.06,22.72-12.22,13.64-37.9-35.62,37-38.51,13.2,12.47Z"/><path class="cls-1" d="M1114.29,140.81l13.2-12.47,37,38.51-37.89,35.62-12.22-13.64,25.06-22.72Z"/><path class="cls-2" d="M280.68,147.44a25.39,25.39,0,0,1,2.09-10.25,26.79,26.79,0,0,1,14.07-14.07A25.39,25.39,0,0,1,307.09,121H347.5v17.63H307.09A8.7,8.7,0,0,0,299,144a8.59,8.59,0,0,0-.68,3.44,8.77,8.77,0,0,0,.68,3.47,8.57,8.57,0,0,0,1.87,2.83,8.74,8.74,0,0,0,6.23,2.55h17.63A25.92,25.92,0,0,1,335,158.34a26.25,26.25,0,0,1,14.07,14.07,26.63,26.63,0,0,1,0,20.54A26.54,26.54,0,0,1,335,207a25.44,25.44,0,0,1-10.28,2.09H285.6V191.48h39.12a8.74,8.74,0,0,0,6.23-2.55,8.79,8.79,0,0,0,2.55-6.24,8.72,8.72,0,0,0-8.78-8.78H307.09a25.23,25.23,0,0,1-10.25-2.09,26.73,26.73,0,0,1-14.07-14.09A25.62,25.62,0,0,1,280.68,147.44Z"/><path class="cls-2" d="M380.3,209.1H362.67V121h35.25a34.35,34.35,0,0,1,9.34,1.26,34.85,34.85,0,0,1,8.38,3.57A35.52,35.52,0,0,1,431.85,147a35.21,35.21,0,0,1-1.5,23,35.38,35.38,0,0,1-18.76,18.76,34.26,34.26,0,0,1-13.67,2.77H380.3Zm0-70.44v35.25h17.62a17,17,0,0,0,6.82-1.38,17.65,17.65,0,0,0,9.36-9.4,17.55,17.55,0,0,0,0-13.69,17.65,17.65,0,0,0-9.36-9.4,17,17,0,0,0-6.82-1.38Z"/><path class="cls-2" d="M503.8,209.1H443.43V121H503.8v17.63H461.05v17.63H490v17.62H461.05v17.57H503.8Z"/><path class="cls-2" d="M584.31,200.07a45.49,45.49,0,0,1-41.61,9.31,45.75,45.75,0,0,1-10.87-4.61,46.1,46.1,0,0,1-16.39-16.4,45.18,45.18,0,0,1-4.61-10.87,45.58,45.58,0,0,1,0-24.16,45.05,45.05,0,0,1,4.61-10.9,46,46,0,0,1,7.15-9.25,46.62,46.62,0,0,1,9.24-7.15,45.75,45.75,0,0,1,10.87-4.61,44.73,44.73,0,0,1,12.07-1.62,45.46,45.46,0,0,1,15.78,2.79,43.68,43.68,0,0,1,13.76,8.14L575,146.09a26.53,26.53,0,0,0-9.15-6.42,28.14,28.14,0,0,0-11.06-2.24,27.24,27.24,0,0,0-10.93,2.21,28.86,28.86,0,0,0-8.91,6,28.12,28.12,0,0,0-6,8.91,27.1,27.1,0,0,0-2.22,10.9,26.72,26.72,0,0,0,2.22,10.84,28.34,28.34,0,0,0,14.92,14.89,27.24,27.24,0,0,0,10.93,2.21,28.14,28.14,0,0,0,11.06-2.24,26.53,26.53,0,0,0,9.15-6.42Z"/><path class="cls-1" d="M631.48,209.1H613.91V138.66H587.44V121h70.44v17.63h-26.4Z"/><path class="cls-1" d="M734,209.1H716.41V191.48H681.16V209.1H663.6V156.29a34.37,34.37,0,0,1,2.76-13.73,35.92,35.92,0,0,1,7.52-11.21,35.19,35.19,0,0,1,11.18-7.55,35.39,35.39,0,0,1,27.45,0,35.29,35.29,0,0,1,18.76,18.76A34.37,34.37,0,0,1,734,156.29Zm-17.63-35.19V156.29a17.22,17.22,0,0,0-1.38-6.85,17.63,17.63,0,0,0-9.4-9.4,17.67,17.67,0,0,0-13.69,0,17.63,17.63,0,0,0-9.4,9.4,17.22,17.22,0,0,0-1.38,6.85v17.62Z"/><path class="cls-1" d="M783.66,209.1H766.09V138.66H739.62V121h70.45v17.63H783.66Z"/><path class="cls-1" d="M1053.46,209.1h-17.63V121h35.25a34.35,34.35,0,0,1,9.34,1.26,34.85,34.85,0,0,1,8.38,3.57A35.52,35.52,0,0,1,1105,147a34.35,34.35,0,0,1,1.26,9.34,34.78,34.78,0,0,1-1.13,8.84,36.4,36.4,0,0,1-3.26,8.17,34.25,34.25,0,0,1-5.19,7.12,35.3,35.3,0,0,1-6.88,5.65l9.77,23h-18.73l-7.68-17.75-19.71.13Zm0-70.44v35.25h17.62a17,17,0,0,0,6.82-1.38,17.65,17.65,0,0,0,9.36-9.4,17.55,17.55,0,0,0,0-13.69,17.65,17.65,0,0,0-9.36-9.4,17,17,0,0,0-6.82-1.38Z"/><path class="cls-1" d="M821.51,194.61a1.62,1.62,0,0,1-1.1-.44l-13.58-13a1.6,1.6,0,0,1-.14-2.14l14.11-17.67a1.59,1.59,0,1,1,2.48,2l-13.2,16.54,12.53,12a1.58,1.58,0,0,1-1.1,2.73Z"/><path class="cls-1" d="M828.81,191.21a1.59,1.59,0,0,0-1.8-1.33l-.9.16a19.32,19.32,0,0,0-5.4,1.93,8.16,8.16,0,0,0-2.46,2,4.79,4.79,0,0,0-1,2.54,13.78,13.78,0,0,0,.07,3.17l.06.34a5.44,5.44,0,0,0,.4,1.27A12.47,12.47,0,0,0,817,203c-.07.17-.13.35-.2.53a12,12,0,0,0-.63,3.39,8.94,8.94,0,0,0,0,.9,13.21,13.21,0,0,0,.51,3.31c0,.11.07.23.11.34a18.82,18.82,0,0,0,3.27,6,1.59,1.59,0,0,0,2.5-1.95c-5.95-7.61-2-12.77-1.66-13.16h0a1.34,1.34,0,0,0,.11-.14l.06-.1.07-.12a.58.58,0,0,0,0-.14.69.69,0,0,0,.05-.13l0-.13a.71.71,0,0,0,0-.14,1.77,1.77,0,0,0,0-.23c0-.06,0-.11,0-.16v0l0-.11s0-.1,0-.15a1.52,1.52,0,0,0-.39-.59l-.1-.09h0c-.1-.17-.47-1-.29-3.28.08-.93,1.15-1.77,2.56-2.43a17.39,17.39,0,0,1,4.52-1.35l.11,0A1.59,1.59,0,0,0,828.81,191.21Z"/><path class="cls-3" d="M817,203c-.07.17-.13.35-.2.53a12,12,0,0,0-.63,3.39,8.94,8.94,0,0,0,0,.9,6.2,6.2,0,0,1-1.29-1,4.16,4.16,0,0,1-.5-.61l-.08-.14a2.7,2.7,0,0,1-.39-1.22.71.71,0,0,1,.21-.59,3.53,3.53,0,0,1,1.39-.82A9.23,9.23,0,0,1,817,203Z"/><path class="cls-1" d="M820,201.11a1.69,1.69,0,0,1,0,.23.71.71,0,0,1,0,.14l0,.13,0,.14a.5.5,0,0,1,0,.13l-.07.13-.06.1-.11.13v0a1.57,1.57,0,0,1-1.09.52,11.68,11.68,0,0,0-1.5.21,9.23,9.23,0,0,0-1.5.42,3.53,3.53,0,0,0-1.39.82.71.71,0,0,0-.21.59,2.7,2.7,0,0,0,.39,1.22l.08.14a4.16,4.16,0,0,0,.5.61,6.2,6.2,0,0,0,1.29,1,7.92,7.92,0,0,0,1.11.58,1.59,1.59,0,0,1-.49,3.07h-.07a1.54,1.54,0,0,1-.56-.1s-.35-.14-.78-.35a11.29,11.29,0,0,1-2.35-1.59c-.23-.22-.47-.45-.69-.7a6.53,6.53,0,0,1-1.21-2,5.41,5.41,0,0,1-.27-.86,5.61,5.61,0,0,1-.12-.85,3.92,3.92,0,0,1,1-2.91,8.21,8.21,0,0,1,4.36-2.19c.46-.1.89-.17,1.24-.22s.87-.09,1-.1a1.53,1.53,0,0,1,.85.19,1.32,1.32,0,0,1,.25.16h0a.94.94,0,0,1,.1.1,1.39,1.39,0,0,1,.39.59c0,.05,0,.09,0,.15s0,.1,0,.15S820,201.06,820,201.11Z"/><path class="cls-1" d="M842.54,209.47a5.08,5.08,0,0,1-.41,1.19,8.17,8.17,0,0,1-.56,1c-.28.43-.59.82-.87,1.18l-.45.59a32.89,32.89,0,0,1-2.69,3.21,31.23,31.23,0,0,1-6.56,5.2,10.81,10.81,0,0,1-4.31,1.64,7.81,7.81,0,0,1-.83,0,14.87,14.87,0,0,1-3.17-.44,17.45,17.45,0,0,0-1.74-.32,13.4,13.4,0,0,1-5.07-1.32,28.76,28.76,0,0,1-7.56-6.38,5.18,5.18,0,0,1-1.67-3.64,4.2,4.2,0,0,1,1.72-3.1,16.14,16.14,0,0,1,2.74-1.52l.15-.06a5.9,5.9,0,0,1,2.11-.55,1.62,1.62,0,0,1,1.32.69s0,.1.08.14a1.65,1.65,0,0,1,.19.76,1.59,1.59,0,0,1-1.57,1.59,1.53,1.53,0,0,0-.38.1l-.27.1a12.38,12.38,0,0,0-2.43,1.27,1.12,1.12,0,0,0-.49.71c0,.42.61,1.11.85,1.37a26,26,0,0,0,6.69,5.72,10.83,10.83,0,0,0,4,1,20.76,20.76,0,0,1,2,.37,9.27,9.27,0,0,0,3,.34,8,8,0,0,0,3-1.21,28.17,28.17,0,0,0,5.89-4.67,27.73,27.73,0,0,0,2.42-2.88c.15-.22.33-.44.51-.67a14.36,14.36,0,0,0,.94-1.31,2.18,2.18,0,0,0,.29-.69,1.82,1.82,0,0,1,.15-.41,1.58,1.58,0,0,1,3,1Z"/><path class="cls-1" d="M933.73,124l-1.25,2.92-1-.43c-26.93-11.22-52.86-10.37-70-7.65a133.62,133.62,0,0,0-30.44,8.45l-1,.45-1.36-2.87c.13-.06.91-.42,2.28-1a138.27,138.27,0,0,1,29.92-8.15c17.28-2.76,43.35-3.65,70.58,7.34C932.21,123.36,933,123.68,933.73,124Z"/><path class="cls-3" d="M839.58,208.43a1.82,1.82,0,0,0-.15.41,2.18,2.18,0,0,1-.29.69,14.36,14.36,0,0,1-.94,1.31c-.18.23-.36.45-.51.67a27.73,27.73,0,0,1-2.42,2.88,28.17,28.17,0,0,1-5.89,4.67,8,8,0,0,1-3,1.21,9.27,9.27,0,0,1-3-.34,20.76,20.76,0,0,0-2-.37,10.83,10.83,0,0,1-4-1,26,26,0,0,1-6.69-5.72c-.24-.26-.86-1-.85-1.37a1.12,1.12,0,0,1,.49-.71,12.38,12.38,0,0,1,2.43-1.27l.27-.1a11.29,11.29,0,0,0,2.35,1.59c.43.21.73.33.78.35a1.54,1.54,0,0,0,.56.1h.07a18.82,18.82,0,0,0,3.27,6,1.59,1.59,0,0,0,2.5-1.95c-5.95-7.61-2-12.77-1.66-13.16h0a1.34,1.34,0,0,0,.11-.14l.06-.1.07-.12a.58.58,0,0,0,0-.14.69.69,0,0,0,.05-.13l0-.13a.71.71,0,0,0,0-.14,1.77,1.77,0,0,0,0-.23c0-.06,0-.11,0-.16v0l0-.11s0-.1,0-.15a1.52,1.52,0,0,0-.39-.59l-.1-.09h0c-.1-.17-.47-1-.29-3.28.08-.93,1.15-1.77,2.56-2.43a17.39,17.39,0,0,1,4.52-1.35l.11,0A59.48,59.48,0,0,0,839.58,208.43Z"/><path class="cls-1" d="M939.11,164.91a59,59,0,0,1-4.31,22.21c-.41,1-.85,2-1.31,3a59.25,59.25,0,0,1-91,20.82l-.33-.27c-.72-.59-1.42-1.19-2.1-1.82-.15-.13-.3-.26-.45-.41a59.48,59.48,0,0,1-12-15.43c-.53-1-1-2-1.49-3a58.78,58.78,0,0,1-5.6-24.86v-.27q0-1.91.12-3.78a59.08,59.08,0,0,1,8.45-26.94c.12-.21.25-.42.38-.62l2.69,1.68c-.57.9-1.1,1.82-1.61,2.75a56.13,56.13,0,1,0,99.7,2.23c-.36-.73-.73-1.45-1.12-2.17l2.78-1.52.41.76A59.41,59.41,0,0,1,939.11,164.91Z"/><path class="cls-1" d="M934.69,125.48c.1-7.15-2.26-14.55-4.82-21.48l-.34-.93c-1.9-5.19-3.55-9.67-7.94-13.92a44.67,44.67,0,0,0-12.74-8.56,59.91,59.91,0,0,0-13.59-4.19,95.12,95.12,0,0,0-16.52-1.54c-2.2,0-4.44,0-6.65.13-12.82.67-23.88,5.32-31.14,13.12-6.17,6.62-9.07,15.08-10.91,21.71-2.64,9.51-3,17.51-1,24.37.15.52.31,1,.49,1.55a19.21,19.21,0,0,0,1,2.26c1.74,3.4,4.64,6.39,8.57,6.39h.23c2.55-.07,4.68-1.44,6.57-2.65l.35-.21c18.94-12.06,44.52-13.32,65.17-3.21.54.26,1.07.53,1.6.8A37.5,37.5,0,0,0,919.9,142c3.81,1,6.94.73,9.31-.94a8.46,8.46,0,0,0,1-.85,10.69,10.69,0,0,0,2.07-2.93c1.52-3.1,2.06-7.17,2.36-11.26,0-.17,0-.34,0-.52l-1.58,0Zm-7.3,13c-1.59,1.11-3.76,1.26-6.65.47a35,35,0,0,1-6.28-2.68l-1.63-.82c-21.62-10.59-48.43-9.26-68.28,3.38l-.35.22c-1.69,1.08-3.28,2.1-5,2.15h-.12c-3.15,0-5.5-3.49-6.56-6.52a28.68,28.68,0,0,1-1.52-7.4q-.12-1.67-.09-3.42a54.53,54.53,0,0,1,2.13-13.2c1.86-6.68,4.52-14.32,10.18-20.4,6.6-7.09,17.16-11.5,29-12.11,1.72-.09,3.46-.14,5.18-.14h1.26c11.64.15,21.08,1.93,28.84,5.45a41.61,41.61,0,0,1,11.85,8c3.86,3.74,5.32,7.71,7.16,12.73l.35.94c2.16,5.85,4.17,12,4.56,18,0,.8.07,1.59.06,2.38v0c0,.11,0,.22,0,.32l-.06.69C931,131.61,930.21,136.49,927.39,138.49Z"/><path class="cls-2" d="M931.46,123.06c-27.23-11-53.3-10.1-70.58-7.34A138.27,138.27,0,0,0,831,123.87a54.53,54.53,0,0,1,2.13-13.2c1.86-6.68,4.52-14.32,10.18-20.4,6.6-7.09,17.16-11.5,29-12.11,1.72-.09,3.46-.14,5.18-.14h1.26c11.64.15,21.08,1.93,28.84,5.45a41.61,41.61,0,0,1,11.85,8c3.86,3.74,5.32,7.71,7.16,12.73l.35.94C929.06,111,931.07,117.13,931.46,123.06Z"/><path class="cls-4" d="M931.45,126.49c-.41,5.12-1.24,10-4.06,12-1.59,1.11-3.76,1.26-6.65.47a35,35,0,0,1-6.28-2.68l-1.63-.82c-21.62-10.59-48.43-9.26-68.28,3.38l-.35.22c-1.69,1.08-3.28,2.1-5,2.15h-.12c-3.15,0-5.5-3.49-6.56-6.52a28.68,28.68,0,0,1-1.52-7.4,133.62,133.62,0,0,1,30.44-8.45C878.59,116.12,904.52,115.27,931.45,126.49Z"/><path class="cls-5" d="M930.24,140.23a8.46,8.46,0,0,1-1,.85c-2.37,1.67-5.5,2-9.31.94a37.5,37.5,0,0,1-6.87-2.91c-.53-.27-1.06-.54-1.6-.8-20.65-10.11-46.23-8.85-65.17,3.21l-.35.21c-1.89,1.21-4,2.58-6.57,2.65h-.23c-3.93,0-6.83-3-8.57-6.39a56.13,56.13,0,1,0,99.7,2.23ZM880,190.12a28.51,28.51,0,1,1,28.51-28.51A28.51,28.51,0,0,1,880,190.12Z"/><path class="cls-6" d="M908.55,161.61A28.51,28.51,0,1,1,880,133.11,28.51,28.51,0,0,1,908.55,161.61Z"/><circle cx="880.04" cy="161.62" r="17.8"/><circle class="cls-7" cx="889.18" cy="146.93" r="10.26"/><path d="M966.73,188.34a1.59,1.59,0,0,1-1.59,1.56h0a7.37,7.37,0,0,1-1.43-.16,8.26,8.26,0,0,1-1.53-.47,11.32,11.32,0,0,1-3.85-2.8,13.26,13.26,0,0,1-1.7-2.24,1.59,1.59,0,0,1,2.75-1.59,3.1,3.1,0,0,0,.2.31,9.89,9.89,0,0,0,3.57,3.28,5.08,5.08,0,0,0,1.54.46l.49,0A1.59,1.59,0,0,1,966.73,188.34Z"/><path class="cls-8" d="M993.06,98.77a24.57,24.57,0,1,0,30.69,16.3A24.6,24.6,0,0,0,993.06,98.77Zm13.58,44.36a21.82,21.82,0,1,1,14.48-27.26A21.85,21.85,0,0,1,1006.64,143.13Z"/><path class="cls-8" d="M979.22,175c-.36,0-.72,0-1.09-.08,0-.21,0-.42,0-.64l-.33.6-1.61,3-1.43,2.62-1.08,2-.4.74-.36.67-1.52,2.79-1.59,2.9h0l-4,7.32a4.76,4.76,0,0,1-8.4-4.5l2.35-4.47,1.52-2.87,3.31-6.27,1.83-3.49a13.36,13.36,0,0,1-.6-3.25,1.5,1.5,0,0,0-.34-.86l-2.29,4.36-3.72,7.05-.1.19-1.65,3.12-.87,1.65L955,191a7.54,7.54,0,0,0,3.13,10.14,7.41,7.41,0,0,0,5.72.54,7.49,7.49,0,0,0,4.41-3.58l3.12-5.74,1.69-3.1a2.23,2.23,0,0,1-.16-.56c-.19-1.12.55-2.15,2-2.87l.18-.34,1.49-2.73,0-.07h0a3.16,3.16,0,0,1-1.17-.87,4.28,4.28,0,0,0,1.72-2,8.55,8.55,0,0,0,.59-1.81l.41,0,1,.07,1.73-3.18A15.32,15.32,0,0,1,979.22,175Zm49.51-61.42a29.78,29.78,0,1,0-47.1,31.94l-2.32,4.25,1.85,1-.77,1.27s-1.57-.7-1.57-.7L975.67,157a2.71,2.71,0,0,0-3.38,1.24l-.67,1.28-1.7,3.22a2.55,2.55,0,0,1,1.18-.09c.21,0,.78.13,1.38,1.12l1.6-3,.61-1.16,9,4.48-.35.64-1.86,3.42a11.82,11.82,0,0,1,3.26-.22l1.41-2.59a3.27,3.27,0,0,0,.14-.33,2.65,2.65,0,0,0-1-3.16l3.14-5.23-1.26-.68-.72-.39.91-1.52,1.79.94,2.17-4.29a29.77,29.77,0,0,0,37.41-37.12Zm-45.89,47-4.71-2.34c.28-.5.61-1.09.93-1.68s.61-1.12.83-1.55c1,.6,2.45,1.43,4.7,2.65Zm-.13-7.12.88-1.45,1.34.71L984,154.2Zm5.25-2.24-4.9-2.61.81-1.48a30.44,30.44,0,0,0,4.85,2.58Zm20.2-3.11a27,27,0,1,1,17.93-33.75A27,27,0,0,1,1008.16,148.1Z"/><path class="cls-3" d="M979.15,178.14l-2.5,4.59h0a3.16,3.16,0,0,1-1.17-.87,4.28,4.28,0,0,0,1.72-2,8.55,8.55,0,0,0,.59-1.81l.41,0Z"/><path class="cls-3" d="M984.72,167.91,980.88,175a15.32,15.32,0,0,1-1.66,0c-.36,0-.72,0-1.09-.08,0-.21,0-.42,0-.64h0l3.32-6.11A11.82,11.82,0,0,1,984.72,167.91Z"/><path class="cls-3" d="M972.48,163.78h0l-6,11.43a13.36,13.36,0,0,1-.6-3.25,1.5,1.5,0,0,0-.34-.86l4.41-8.36a2.55,2.55,0,0,1,1.18-.09C971.31,162.69,971.88,162.79,972.48,163.78Z"/><path class="cls-9" d="M988.72,149.7l-.77,1.5-4.89-2.6.81-1.48A30.44,30.44,0,0,0,988.72,149.7Z"/><path class="cls-3" d="M973.9,179.09a6.43,6.43,0,0,1-5.19-.64,4.87,4.87,0,0,1-1.08-1,6.8,6.8,0,0,1-1.07-1.92h0c0-.09-.07-.19-.11-.3l6-11.43a1.83,1.83,0,0,1,.15.25c.09.17.18.36.28.58.23.57.45,1.13.64,1.69h0c.22.62.41,1.24.56,1.84a2.81,2.81,0,0,1,.08.31l.06.22h0C975.63,174.28,974.75,178.63,973.9,179.09Z"/><path class="cls-3" d="M981.46,168.13l-3.32,6.11a26.62,26.62,0,0,0-.53-5.05v0a25.63,25.63,0,0,1,3.17-.9Z"/><path class="cls-2" d="M983.67,164.07l-.35.64-1.86,3.42-.69.14a25.63,25.63,0,0,0-3.17.9v0a26.62,26.62,0,0,1,.53,5.05h0l-.33.6-1.61,3-1.43,2.62-1.08,2-.4.74-.36.67-1.52,2.79-1.59,2.9h0l-4,7.32a4.76,4.76,0,0,1-8.4-4.5l2.35-4.47,1.52-2.87,3.31-6.27,1.83-3.49c0,.11.07.21.11.3h0a6.8,6.8,0,0,0,1.07,1.92,4.87,4.87,0,0,0,1.08,1,6.43,6.43,0,0,0,5.19.64c.85-.46,1.73-4.81.35-10.4h0l-.06-.22a2.81,2.81,0,0,0-.08-.31c-.15-.6-.34-1.22-.56-1.84h0c-.19-.56-.41-1.12-.64-1.69-.1-.22-.19-.41-.28-.58a1.83,1.83,0,0,0-.15-.25h0l1.6-3,.61-1.16Z"/><path class="cls-9" d="M984.59,157.66l-1.76,2.91-4.7-2.34.93-1.68c.33-.6.61-1.12.83-1.55C980.87,155.6,982.34,156.43,984.59,157.66Z"/><path class="cls-10" d="M992.34,96.42a27,27,0,1,0,33.75,17.93A27.07,27.07,0,0,0,992.34,96.42Zm15.11,49.34a24.57,24.57,0,1,1,16.3-30.69A24.6,24.6,0,0,1,1007.45,145.76Z"/><circle class="cls-7" cx="1000.25" cy="122.26" r="21.82"/><path class="cls-3" d="M994.2,140.54a19.61,19.61,0,0,1,16.06-35.44,19.61,19.61,0,1,0-16.06,35.44Z"/><path class="cls-3" d="M969.92,162.75l-4.41,8.36a1.58,1.58,0,0,0-1.36-.61,1.6,1.6,0,0,0-1.47,1.7,17.57,17.57,0,0,0,.54,3.27l-3.72,7.05a4,4,0,0,1,.57-3.38c1.57-1.7,1.17-3.75.85-5.4s-.48-2.81.46-3.82l.68-.73C963.73,167.39,967.31,163.51,969.92,162.75Z"/><path class="cls-1" d="M978.14,174.24h0c0,.22,0,.43,0,.64a16.12,16.12,0,0,1-.37,3.15,8.55,8.55,0,0,1-.59,1.81,4.28,4.28,0,0,1-1.72,2,2.6,2.6,0,0,1-.61.27,9.22,9.22,0,0,1-1.15.28,9.51,9.51,0,0,1-1.45.14,8.84,8.84,0,0,1-5.32-1.47c-.12-.08-.25-.17-.36-.26a8,8,0,0,1-1.3-1.23,8.83,8.83,0,0,1-.64-.87,10.84,10.84,0,0,1-1.4-3.24,17.57,17.57,0,0,1-.54-3.27,1.6,1.6,0,0,1,1.47-1.7,1.58,1.58,0,0,1,1.36.61,1.5,1.5,0,0,1,.34.86,13.36,13.36,0,0,0,.6,3.25c0,.11.07.21.11.3h0a6.8,6.8,0,0,0,1.07,1.92,4.87,4.87,0,0,0,1.08,1,6.43,6.43,0,0,0,5.19.64c.85-.46,1.73-4.81.35-10.4h0l-.06-.22a2.81,2.81,0,0,0-.08-.31c-.15-.6-.34-1.22-.56-1.84h0c-.19-.56-.41-1.12-.64-1.69-.1-.22-.19-.41-.28-.58a1.83,1.83,0,0,0-.15-.25h0c-.6-1-1.17-1.09-1.38-1.12a2.55,2.55,0,0,0-1.18.09c-2.61.76-6.19,4.64-7.86,6.44l-.68.73c-.94,1-.8,2.06-.46,3.82s.72,3.7-.85,5.4a4,4,0,0,0-.57,3.38v0l.06.41a4.55,4.55,0,0,1-1.25,3.52,4.48,4.48,0,0,1-1,.79l-.41.22a32.21,32.21,0,0,1-15.14,3.42,42.77,42.77,0,0,1-8.25-.79c-.43-.08-.68-.15-.76-.16a1.59,1.59,0,0,1,.75-3.08s.5.11,1.32.25a41.67,41.67,0,0,0,6.94.58,29,29,0,0,0,14-3.21,1.33,1.33,0,0,0,.64-1.39c-.46-2.54,0-4.66,1.36-6.12.44-.46.36-1.16.07-2.63-.36-1.85-.84-4.37,1.26-6.6l.66-.71c3.69-4,7.95-8.18,11.89-7.51h0a4.73,4.73,0,0,1,2.16,1l.27.24a6.51,6.51,0,0,1,1.15,1.45,8.81,8.81,0,0,1,.6,1.19c.38.9.7,1.8,1,2.7.14.43.27.87.38,1.3.16.6.3,1.19.41,1.78v0A26.62,26.62,0,0,1,978.14,174.24Z"/><path class="cls-1" d="M988.85,174.69l0,0a7.6,7.6,0,0,1-2.51,2.1,12.9,12.9,0,0,1-6.18,1.35h-.3l-.69,0-1-.07-.41,0c-.42,0-.87-.1-1.33-.17l-.23-.06a1.59,1.59,0,0,1,.73-3.08c.29.05.59.09.88.12l.32,0c.37,0,.73.07,1.09.08a15.32,15.32,0,0,0,1.66,0h0a8.64,8.64,0,0,0,4.38-1.22l.1-.08a4,4,0,0,0,.92-.87,3.65,3.65,0,0,0,.29-3.85,2.16,2.16,0,0,0-1.88-1,11.82,11.82,0,0,0-3.26.22l-.69.14a25.63,25.63,0,0,0-3.17.9h0c-.44.15-.84.31-1.21.46a1.58,1.58,0,0,1-2.08-.84.76.76,0,0,0,0-.11h0l-.06-.22a1.46,1.46,0,0,1,0-.29,1.58,1.58,0,0,1,.89-1.41l.08,0c.24-.1.83-.34,1.67-.63a29.93,29.93,0,0,1,3.44-1c.6-.13,1.22-.23,1.84-.31.41-.05.82-.08,1.23-.1a10.14,10.14,0,0,1,2.95.28,4.72,4.72,0,0,1,3.22,2.65A6.86,6.86,0,0,1,988.85,174.69Z"/><path class="cls-3" d="M986.31,172.79a4,4,0,0,1-.92.87l-.1.08a8.64,8.64,0,0,1-4.38,1.22h0l3.84-7.05a2.16,2.16,0,0,1,1.88,1A3.65,3.65,0,0,1,986.31,172.79Z"/><path class="cls-1" d="M990.69,183.75a8.22,8.22,0,0,1-2.18,1.94,8.52,8.52,0,0,1-3,1.12,8,8,0,0,1-1.3.13h-1a23.76,23.76,0,0,1-6.06-.67,12.84,12.84,0,0,1-1.52-.52l-.21-.09-.27-.14a6,6,0,0,1-2.19-1.72l-.23-.33a4.31,4.31,0,0,1-.46-.94,5.09,5.09,0,0,1-.21-.79,1.58,1.58,0,0,1,3.12-.55,1.43,1.43,0,0,0,.3.65,3.16,3.16,0,0,0,1.17.87h0a7.71,7.71,0,0,0,1.48.52,22.79,22.79,0,0,0,6,.52,5.94,5.94,0,0,0,1.9-.37l.12-.05a5.19,5.19,0,0,0,2.06-1.55,2.42,2.42,0,0,0,.67-2.18,5.57,5.57,0,0,0-2.54-2.81,7.61,7.61,0,0,0-.72-.4,1.59,1.59,0,0,1-.76-2.11,1.47,1.47,0,0,1,.45-.56l.1-.08a1.6,1.6,0,0,1,1.56-.12,11.38,11.38,0,0,1,1.9,1.15,7.74,7.74,0,0,1,3.1,4.19A5.61,5.61,0,0,1,990.69,183.75Z"/><path class="cls-3" d="M988.19,181.8a5.19,5.19,0,0,1-2.06,1.55l-.12.05a5.94,5.94,0,0,1-1.9.37,22.79,22.79,0,0,1-6-.52,7.71,7.71,0,0,1-1.48-.52l2.5-4.59.69,0h.3a12.9,12.9,0,0,0,6.18-1.35,5.57,5.57,0,0,1,2.54,2.81A2.42,2.42,0,0,1,988.19,181.8Z"/><path class="cls-3" d="M984.89,190.81c-.76,1.1-2.25,1.68-4.42,1.72a10.81,10.81,0,0,1-5.11-1,5.7,5.7,0,0,1-1.37-.94,3.72,3.72,0,0,1-.92-1.26,2.23,2.23,0,0,1-.16-.56c-.19-1.12.55-2.15,2-2.87a4.68,4.68,0,0,1,.45-.2l.21.09a12.84,12.84,0,0,0,1.52.52,23.76,23.76,0,0,0,6.06.67h1a8,8,0,0,0,1.3-.13A5.72,5.72,0,0,1,984.89,190.81Z"/><path class="cls-1" d="M987.51,192.61c-1.38,2-3.73,3-7,3.09h-.34a13.76,13.76,0,0,1-5.84-1.18,10.7,10.7,0,0,1-1.42-.8,8.42,8.42,0,0,1-1.55-1.32,6.37,6.37,0,0,1-1.56-2.9h0c0-.07,0-.15,0-.23a5.63,5.63,0,0,1,2.92-5.79c.19-.12.38-.23.59-.34a11,11,0,0,1,1.72-.71,1.52,1.52,0,0,1,1.58.36h0a1.52,1.52,0,0,1,.4.64,1.59,1.59,0,0,1-1,2l-.32.12-.28.11a4.68,4.68,0,0,0-.45.2c-1.48.72-2.22,1.75-2,2.87a2.23,2.23,0,0,0,.16.56,3.72,3.72,0,0,0,.92,1.26,5.7,5.7,0,0,0,1.37.94,10.81,10.81,0,0,0,5.11,1c2.17,0,3.66-.62,4.42-1.72a5.72,5.72,0,0,0,.6-4,8.1,8.1,0,0,0-.34-1.44,1.59,1.59,0,0,1,.86-2l.12-.05a1.59,1.59,0,0,1,2,1,12.49,12.49,0,0,1,.36,1.38C988.85,187.38,989.11,190.31,987.51,192.61Z"/><path class="cls-11" d="M836.16,153.35c.14,1,.24,2.07.35,3.09l.36,3.07c.26,2,.51,4,.84,6a85.71,85.71,0,0,0,2.61,11.54,51.93,51.93,0,0,0,4.43,10.44,39.38,39.38,0,0,0,6.71,8.7,40.94,40.94,0,0,0,8.9,6.52,41.41,41.41,0,0,0,10.45,4,67,67,0,0,0,11.62,1.54c2,.12,4,.17,6.09.22s4.11.07,6.2.17a62.36,62.36,0,0,1-5.91,2c-2,.59-4,1.08-6.12,1.48a47.67,47.67,0,0,1-12.84.73A37.89,37.89,0,0,1,857,209.47,39.58,39.58,0,0,1,846,201.91a40,40,0,0,1-4.42-5.13l-1-1.39c-.15-.24-.32-.46-.46-.7l-.43-.73a32.41,32.41,0,0,1-1.58-3,43.89,43.89,0,0,1-3.84-12.57,54.67,54.67,0,0,1-.42-12.76c0-.53.09-1,.15-1.57s.11-1,.18-1.57c.14-1,.32-2.07.5-3.1s.43-2.05.65-3.06S835.85,154.35,836.16,153.35Z"/></svg>

[![Downloads](https://img.shields.io/npm/dt/@netbasal/spectator.svg?style=flat-square)]()
[![All Contributors](https://img.shields.io/badge/all_contributors-16-orange.svg?style=flat-square)](#contributors)
[![spectator](https://img.shields.io/badge/tested%20with-spectator-2196F3.svg?style=flat-square)]()
[![MIT](https://img.shields.io/packagist/l/doctrine/orm.svg?style=flat-square)]()
[![commitizen](https://img.shields.io/badge/commitizen-friendly-brightgreen.svg?style=flat-square)]()
[![PRs](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)]()
[![styled with prettier](https://img.shields.io/badge/styled_with-prettier-ff69b4.svg?style=flat-square)](https://github.com/prettier/prettier)
[![Build Status](https://semaphoreci.com/api/v1/netanel7799/spectator/branches/master/badge.svg)](https://semaphoreci.com/netanel7799/spectator)

> Angular Tests Done Right

Spectator helps you get rid of all the boilerplate grunt work, leaving you with readable, sleek and streamlined unit tests.

## Features
- ✅ Testing `ng-content`
- ✅ Custom Jasmine Matchers (toHaveClass, toBeDisabled..)
- ✅ Clean API for triggering keyboard/mouse/touch events
- ✅ Services testing support
- ✅ Routing testing support
- ✅ HTTP testing support
- ✅ Built-in support for entry components
- ✅ Built-in support for component's providers
- ✅ Strongly Typed

#Table of Contents
TODO

## Installation
`ng add @netbasal/spectator`

## Testing Components
Create a component factory by using the `createTestComponentFactory()` function, passing the component class that you want to test.
The `createTestComponentFactory()` returns a function that will create a fresh component in each `it` block:

```ts
import { ButtonComponent } from './button.component';
import { Spectator, createTestComponentFactory } from '@netbasal/spectator';

describe('ButtonComponent', () => {
  const createComponent = createTestComponentFactory(ButtonComponent);
  let spectator: Spectator<ButtonComponent>;
  
  beforeEach(() => spectator = createComponent());

  it('should have a success class by default', () => {
    expect(spectator.query('button')).toHaveClass('success');
  });

  it('should set the class name according to the [className] input', () => {
    spectator.setInput('className', 'danger');
    expect(spectator.query('button')).toHaveClass('danger');
    expect(spectator.query('button')).not.toHaveClass('success');
  });
});
```

The `createTestComponentFactory` function can optionally take the following options which extends the basic Angular Testing Module options:

```ts
const createComponent = createTestComponentFactory({
  component: ButtonComponent,
  imports: [],
  providers: [],
  declarations: [],
  entryComponents: [],
  componentProviders: [], // Override the component's providers 
  mocks: [], // Providers that will automatically mocked out
  detectChanges: false, // Defaults to true
  declareComponent: false, // Defaults to true
  disableAnimations: false, // Defaults to true
  shallow: true, // Defaults to false
});
```

The `createComponent()` function optionally takes the following options:
```ts
it('should set the title according to the [title] input', () => {
  const spectator = createComponent({
    // The component inputs
    props: {
      title: 'Click'
    },
    // Override the component's providers
    providers: [],
    // Whether to run change detection (defaults to true)
    detectChanges: false 
  });

  expect(spectator.query('button')).toHaveText('Click');
});
```
The `createComponent()` method returns an instance of `Spectator` which exposes the following API:

- `fixture` - The tested component's fixture
- `component` - The tested component's instance
- `element` - The tested component's native element
- `debugElement` - The tested fixture's debug element
- `get()` - Provides a wrapper for `TestBed.get()`:
```ts
const service = spectator.get(QueryService);

const fromComponentInjector = true;
const service = spectator.get(QueryService, fromComponentInjector);
```
- `detectChanges()` - Runs detectChanges on the tested element/host:
```ts
spectator.detectChanges();
```
- `setInput()` - Changes the value of an @Input() of the tested component:
```ts
it('should...', () => {
   spectator.setInput('className', 'danger');

   spectator.setInput({
     className: 'danger'
   });
});
```
- `output` - Returns an Observable @Output() of the tested component:
```ts
it('should emit the $event on click', () => {
 let output;
  spectator.output('click').subscribe(result => (output = result));

  spectator.component.onClick({ type: 'click' });
  expect(output).toEqual({ type: 'click' });
});
```

## Events API
Each one of the events can accept a `SpectatorElement` which can be one of the following: 
`type SpectatorElement = string | Element | DebugElement | ElementRef | Window | Document;`

- `click()` - Triggers a click event:
```ts
spectator.click(SpectatorElement);
```
- `blur()` - Triggers a blur event:
```ts
spectator.blur(SpectatorElement);
```
- `focus()` - Triggers a focus event:
```ts
spectator.focus(SpectatorElement);
```
- `typeInElement()` - Simulating the user typing:
```ts
spectator.typeInElement(value, SpectatorElement);
```
#### Keyboard Helpers
```ts
spectator.keyboard.pressEnter();
spectator.keyboard.pressEscape();
spectator.keyboard.pressTab();
spectator.keyboard.pressBackspace();
spectator.keyboard.pressKey('a');
```
- `dispatchMouseEvent()` - Triggers a mouse event:
```ts
spectator.dispatchMouseEvent(SpectatorElement, 'mouseout');
spectator.dispatchMouseEvent(SpectatorElement, 'mouseout'), x, y, event);
```
- `dispatchKeyboardEvent()` - Triggers a keyboard event:
```ts
spectator.dispatchKeyboardEvent(SpectatorElement, 'keyup', 'Escape');
```
- `dispatchTouchEvent()` - Triggers a touch event:
```ts
spectator.dispatchTouchEvent(SpectatorElement, type, x, y);
```
Note that each one of the above methods will also run `detectChanges()`.

### Queries
Spectator's API includes convenient methods for querying the DOM as part of a test: `query`, `queryAll`, `queryLast` , `queryHost` and `queryHostAll`. All query methods are polymorphic and allow you to query using any of the following techniques:

#### String selector:
 Pass a string selector (in the same style as you would when using jQuery or document.querySelector) to query for elements that match that path in the DOM. This method for querying is equivalent to Angular's By.css predicate. Note that native HTML elements will be returned. For example:
 ```ts
// Returns a single HTMLElement
spectator.query('div > ul.nav li:first-child');
// Returns an array of all matching HTMLElements
spectator.queryAll('div > ul.nav li');

// Query from the document context
spectator.query('div', { root: true });

spectator.query('app-child', { read: ChildServiceService });
```
 #### Type selector:
Pass a type (such as a component, directive or provider class) to query for instances of that type in the DOM. This is equivalent to Angular's `By.directive` predicate. You can optionally pass in a second parameter to read a specific injection token from the matching elements' injectors. For example:
```ts
// Returns a single instance of MyComponent (if present)
spectator.query(MyComponent);

// Returns the instance of `SomeService` found in the instance of `MyComponent` that exists in the DOM (if present)
spectator.query(MyComponent, { read: SomeService });

spectator.query(MyComponent, { read: ElementRef });
spectator.queryLast(ChildComponent);
spectator.queryAll(ChildComponent);
```
#### DOMSelector
Spectator allows you to query for elements using selectors inspired by [dom-testing-library](https://github.com/testing-library/dom-testing-library). The available selectors are:

```ts
spectator.query(byPlaceholder('Please enter your email address'));
spectator.query(byValue('By value'));
spectator.query(byTitle('By title'));
spectator.query(byAltText('By alt text'));
spectator.query(byLabel('By label'));
spectator.query(byText('By text'));
```

## Testing with Host
Testing a component with a host is a more elegant and powerful technique to test your component. It basically gives you the ability to write your tests in the same way that you write your code. Let's see it in action:

```ts
import { createHostComponentFactory } from '@netbasal/spectator';

describe('ZippyComponent', () => {
  const createComponent = createHostComponentFactory(ZippyComponent);
  
  let spectator: SpectatorWithHost<ZippyComponent>;

  it('should display the title from host property', () => {
    spectator = createComponent(`<zippy [title]="title"></zippy>`, {
      hostProps: {
        title: 'ZIPPY2'
      }
    });
    expect(spectator.query('.zippy__title')).toHaveText('ZIPPY2');
  });

  it('should display the "Close" word if open', () => {
    spectator = createComponent(`<zippy title="Zippy title">Zippy content</zippy>`);

    spectator.click('.zippy__title');

    expect(spectator.query('.arrow')).toHaveText('Close');
    expect(spectator.query('.arrow')).not.toHaveText('Open');
  });
});
```
The host method returns an instance of `SpectatorWithHost` which extends `Spectator` with the following additional API:
- `hostFixture` - The host's fixture
- `hostComponent` - The host's component instance
- `hostElement` - The host's native element
- `hostDebugElement` - The host's fixture debug element
- `setHostInput` -  Changes the value of an `@Input()` of the host component
- `queryHost` - Read more about querying in Spectator
- `queryHostAll` - Read more about querying in Spectator

### Custom Host Component
Sometimes it's helpful to pass your own host implementation. We can pass a custom host component to the `createHostComponentFactory()` that will replace the default one:

```ts
@Component({ selector: 'custom-host', template: '' })
class CustomHostComponent {
  title = 'Custom HostComponent';
}

describe('With Custom Host Component', function () {
  const createComponent = createHostComponentFactory({
    component: ZippyComponent,
    host: CustomHostComponent
  });
  
  let spectator: SpectatorWithHost<ZippyComponent, CustomHostComponent>;

  it('should display the host component title', () => {
    spectator = createComponent(`<zippy [title]="title"></zippy>`);
    expect(spectator.query('.zippy__title')).toHaveText('Custom HostComponent');
  });
});
```


## Testing Routed Components

For components which use routing, there is a special factory available that extends the default one, and provides a stubbed `ActivatedRoute` so that you can configure additional routing options.

```ts
describe('ButtonComponent', () => {
  const createComponent = createRoutedComponentFactory({
    component: ProductDetailsComponent,
    params: { productId: '3' },
    data: { title: 'Some title' }
  });

  let spectator: SpectatorWithRouting<ProductDetailsComponent>;
  
  beforeEach(() => spectator = createComponent());

  it('should display route data title', () => {
    expect(spectator.query('.title')).toHaveTest('Some title');
  });

  it('should react to route changes', () => {
    spectator.setRouteParam('productId', '5');

     // your test here...
  });
});
```

### Updating Route
The `SpectatorWithRoute` API includes convenient methods for updating the current route:

```ts
interface SpectatorWithRouting<C> extends Spectator<C> {
  /**
   * Simulates a route navigation by updating the Params, QueryParams and Data observable streams.
   */
  triggerNavigation(options?: RouteOptions): void;

  /**
   * Updates the route params and triggers a route navigation.
   */
  setRouteParam(name: string, value: string): void;

  /**
   * Updates the route query params and triggers a route navigation.
   */
  setRouteQueryParam(name: string, value: string): void;

  /**
   * Updates the route data and triggers a route navigation.
   */
  setRouteData(name: string, value: string): void;
}
```

### Routing features

* Updating params, queryParams, data and fragments
* Stubs both `ActivatedRoute` and its `ActivatedRouteSnapshot`
* Default Router mocking
* Default RouterLink directive stubs

## Testing Directives
Let's say we have the following directive:

```ts
@Directive({ selector: '[highlight]' })
export class HighlightDirective {

  @HostBinding('style.background-color') backgroundColor : string;

  @HostListener('mouseover')
  onHover() {
    this.backgroundColor = '#000000';
  }

  @HostListener('mouseout')
  onLeave() {
    this.backgroundColor = '#ffffff';
  }
}
```
Let's see how we can test directives easily with Spectator:
```ts
describe('HighlightDirective', () => {
  const createComponent = createHostComponentFactory(HighlightDirective);
  
  let spectator: SpectatorWithHost<HighlightDirective>;

  beforeEach(() => {
    spectator = createComponent(`<div highlight>Testing Highlight Directive</div>`);
  });

  it('should change the background color', () => {
    spectator.dispatchMouseEvent(spectator.element, 'mouseover');

    expect(spectator.element).toHaveStyle({
      backgroundColor: 'rgba(0,0,0, 0.1)'
    });

    spectator.dispatchMouseEvent(spectator.element, 'mouseout');
    expect(spectator.element).toHaveStyle({
      backgroundColor: '#fff'
    });
  });

  it('should get the instance', () => {
    const instance = spectator.query(HighlightDirective);
    expect(instance).toBeDefined();
  });
});
```

## Custom Matchers
```ts
expect('.zippy__content').not.toExist();
expect('.zippy__content').toHaveLength(3);
expect('.zippy__content').toHaveId('id');
expect('.zippy__content').toHaveClass('class');
expect('.zippy__content').toHaveClass('class a, class b');
expect(spectator.query('.zippy')).toHaveAttribute('id', 'zippy');
expect(spectator.query('.checkbox')).toHaveProperty('checked', true);
expect('.zippy__content').toHaveText('Content');
expect('.zippy__content').toHaveText((text) => text.includes('..'));
expect('.zippy__content').toHaveValue('value');
expect(spectator.element).toHaveStyle({backgroundColor: 'rgba(0, 0, 0, 0.1)'});
expect('.zippy__content').toHaveData({data: 'role', val: 'admin'});
expect('.checkbox').toBeChecked();
expect('.button').toBeDisabled();
expect('div').toBeEmpty();
expect('div').toBeHidden();
expect('element').toBeSelected();
expect('element').toBeVisible();
expect('input').toBeFocused();
expect('div').toBeMatchedBy('.js-something');
expect('div').toHaveDescendant('.child');
expect('div').toHaveDescendantWithText({selector: '.child', text: 'text'});
```

## Testing Services
When testing a service it’s often the case that we want to mock other services in its DI, as we focus on the service being tested. For example:
```ts
@Injectable()
export class AuthService {
  constructor( private dateService: DateService  {}

  isLoggedIn() {
    if( this.dateService.isExpired('timestamp') ) {
      return false;
    }
    return true;
  }
}
```
The following example shows how to test the `AuthService` with Spectator:
```ts
import { createService } from "@netbasal/spectator";

describe("AuthService", () => {
  const createService = createServiceFactory({
    service: AuthService,
    providers: [],
    entryComponents: [],
    mocks: [DateService]
  });
  
  let spectator: SpectatorService<AuthService>;
  
  beforeEach(() => spectator = createService());

  it("should not be logged in", () => {
    const dateService = spectator.get(DateService);
    dateService.isExpired.and.returnValue(true);
    expect(spectator.service.isLoggedIn()).toBeFalsy();
  });

  it("should be logged in", () => {
    const dateService = spectator.get(DateService);
    dateService.isExpired.and.returnValue(false);
    expect(spectator.service.isLoggedIn()).toBeTruthy();
  });
});
```

#### Mock Services
Every service that we pass to the `mocks` property will be called with the `mockProvider()` function. The `mockProvider()` function converts each service method to a jasmine spy. (i.e `jasmine.createSpy()`). Here are some of the methods it exposes:
```ts
dateService.isExpired.and.callThrough();
dateService.isExpired.and.callFake(() => fake);
dateService.isExpired.and.throwError('Error');
dateService.isExpired.andCallFake(() => fake);
```
However, if you use Jest as test framework and you want to utilize its mocking mechanism instead, import the `mockProvider()` from `@netbasal/spectator/jest`. This will automatically use the `jest.fn()` function to create a Jest compatible mock instead.

The `createService()` function returns a `SpectatorService` with the following properties:
- `service` - Get an instance of the service under test
- `get()` - A proxy for Angular `TestBed.get()`

`mockProvider()` doesn't include properties. In case you need to have properties on your mock you can use 2nd argument:
```ts
 const createService = createServiceFactory({
    service: AuthService,
    providers: [
      mockProvider(OtherService, {
        name: 'Martin',
        emitter: new Subject(),
        mockedMethod: () => 'mocked'
      })
    ],
  });
```

## Testing Angular's HTTP Client 
Spectator makes testing data services, which use the Angular HTTP module, a lot easier. For example, let's say that you have data service with two methods, one performs a GET and one a POST:

```ts
export class TodosDataService {
  constructor(private http) {}

  get() {
    return this.http.get('todos');
  }

  post(id: number) {
    return this.http.post('todos', { id });
  }
}
```

The test for the above service should look like:
```ts
import { TodosDataService } from './todos-data.service';
import { createHTTPFactory, HTTPMethod } from '@netbasal/spectator';

describe('HttpClient testing', () => {
  const createHttpService = createHttpFactory(TodosDataService);
    
  let spectator: SpectatorHttp<TodosDataService>;
    
  beforeEach(() => spectator = createService());

  it('can test HttpClient.get', () => {
    spectator.dataService.get().subscribe();
    expectOne('todos', HttpMethod.GET);
  });

  it('can test HttpClient.post', () => {
    spectator.dataService.post(1).subscribe();

    const req = expectOne('todos', HttpMethod.POST);
    expect(req.request.body['id']).toEqual(1);
  });
});
```
We need to create an HTTP factory by using the `createHttpFactory()` function, passing the data service that you want to test. The `createHttpFactory()` returns a factory which can be called to get a `SpectatorHttp` with the following properties:
- `controller` - A proxy for Angular `HttpTestingController`
- `httpClient` - A proxy for Angular `HttpClient`
- `dataService` - The data service instance
- `get()` - A proxy for Angular `TestBed.get()`
- `expectOne()` - Expect that a single request was made which matches the given URL and it's method, and return its mock request

## Global Injections
It's possible to define injections which will be available for each test without the need to re-declare them in each test:
```ts
// test.ts
import { defineGlobalsInjections } from '@netbasal/spectator';

defineGlobalsInjections({
  imports: [TranslateModule],
});
```

## Jest Support
By default, Spectator uses Jasmine for creating spies. If you are using Jest as test framework instead, you can let Spectator create Jest-compatible spies.

Just import one of the following functions from `@netbasal/spectator/jest`(instead of @netbasal/spectator), and it will use Jest instead of Jasmine.
`createTestComponentFactory()`, `createHostComponentFactory()`, `createService()`, `createHTTPFactory()`, `mockProvider()`

```ts
import { AuthService } from './auth.service';
import { DateService } from './date.service';
import { createService } from '@netbasal/spectator/jest';

describe('AuthService', () => {
  const spectator = createService({
    service: AuthService,
    mocks: [DateService]
  });

  it('should not be logged in', () => {
    const dateService = spectator.get<DateService>(DateService);
    dateService.isExpired.mockReturnValue(true);
    expect(spectator.service.isLoggedIn()).toBeFalsy();
  });

  it('should be logged in', () => {
    const dateService = spectator.get<DateService>(DateService);
    dateService.isExpired.mockReturnValue(false);
    expect(spectator.service.isLoggedIn()).toBeTruthy();
  });
});
```

## Contributors

Thanks goes to these wonderful people ([emoji key](https://allcontributors.org/docs/en/emoji-key)):

<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
<!-- prettier-ignore -->
| [<img src="https://avatars3.githubusercontent.com/u/638818?v=4" width="100px;"/><br /><sub><b>I. Sinai</b></sub>](https://github.com/theblushingcrow)<br />[📖](https://github.com/NetanelBasal/spectator/commits?author=theblushingcrow "Documentation") [👀](#review-theblushingcrow "Reviewed Pull Requests") [🎨](#design-theblushingcrow "Design") | [<img src="https://avatars3.githubusercontent.com/u/18645670?v=4" width="100px;"/><br /><sub><b>Valentin Buryakov</b></sub>](https://github.com/valburyakov)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=valburyakov "Code") [🤔](#ideas-valburyakov "Ideas, Planning, & Feedback") | [<img src="https://avatars1.githubusercontent.com/u/6745730?v=4" width="100px;"/><br /><sub><b>Netanel Basal</b></sub>](https://www.netbasal.com)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=NetanelBasal "Code") [🔧](#tool-NetanelBasal "Tools") | [<img src="https://avatars1.githubusercontent.com/u/260431?v=4" width="100px;"/><br /><sub><b>Ben Grynhaus</b></sub>](https://github.com/bengry)<br />[🐛](https://github.com/NetanelBasal/spectator/issues?q=author%3Abengry "Bug reports") [💻](https://github.com/NetanelBasal/spectator/commits?author=bengry "Code") | [<img src="https://avatars1.githubusercontent.com/u/4996462?v=4" width="100px;"/><br /><sub><b>Ben Elliott</b></sub>](http://benjaminelliott.co.uk)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=benelliott "Code") | [<img src="https://avatars2.githubusercontent.com/u/681176?v=4" width="100px;"/><br /><sub><b>Martin Nuc</b></sub>](http://www.nuc.cz)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=MartinNuc "Code") | [<img src="https://avatars2.githubusercontent.com/u/2102973?v=4" width="100px;"/><br /><sub><b>Dirk Luijk</b></sub>](https://github.com/dirkluijk)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=dirkluijk "Code") |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| [<img src="https://avatars1.githubusercontent.com/u/6364586?v=4" width="100px;"/><br /><sub><b>Lars Gyrup Brink Nielsen</b></sub>](https://medium.com/@LayZeeDK)<br />[📦](#platform-LayZeeDK "Packaging/porting to new platform") [⚠️](https://github.com/NetanelBasal/spectator/commits?author=LayZeeDK "Tests") | [<img src="https://avatars0.githubusercontent.com/u/1910515?v=4" width="100px;"/><br /><sub><b>Andrew Grekov</b></sub>](https://github.com/thekiba)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=thekiba "Code") [🔧](#tool-thekiba "Tools") | [<img src="https://avatars1.githubusercontent.com/u/3968?v=4" width="100px;"/><br /><sub><b>Jeroen Zwartepoorte</b></sub>](http://twitter.com/jpzwarte)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=jpzwarte "Code") | [<img src="https://avatars1.githubusercontent.com/u/11634412?v=4" width="100px;"/><br /><sub><b>Oliver Schlegel</b></sub>](https://github.com/oschlegel)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=oschlegel "Code") | [<img src="https://avatars1.githubusercontent.com/u/10893959?v=4" width="100px;"/><br /><sub><b>Rex Ye</b></sub>](https://github.com/rexebin)<br />[🔧](#tool-rexebin "Tools") [💻](https://github.com/NetanelBasal/spectator/commits?author=rexebin "Code") | [<img src="https://avatars0.githubusercontent.com/u/36368505?v=4" width="100px;"/><br /><sub><b>tchmura</b></sub>](https://github.com/tchmura)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=tchmura "Code") | [<img src="https://avatars2.githubusercontent.com/u/4572798?v=4" width="100px;"/><br /><sub><b>Yoeri Nijs</b></sub>](http://www.theneuralnetwork.nl)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=YoeriNijs "Code") |
| [<img src="https://avatars1.githubusercontent.com/u/44014?v=4" width="100px;"/><br /><sub><b>Anders Skarby</b></sub>](https://github.com/askarby)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=askarby "Code") | [<img src="https://avatars3.githubusercontent.com/u/444278?v=4" width="100px;"/><br /><sub><b>Gregor Woiwode</b></sub>](https://medium.com/@gregor.woiwode)<br />[💻](https://github.com/NetanelBasal/spectator/commits?author=GregOnNet "Code") |
<!-- ALL-CONTRIBUTORS-LIST:END -->

This project follows the [all-contributors](https://allcontributors.org/docs/en/emoji-key) specification. Contributions of any kind welcome!
